# Money Governance Standard | èµ„é‡‘æ“ä½œæ²»ç†è§„èŒƒ

> **Version**: 1.3 | **Last Updated**: 2025-12-31
>
> æœ¬æ–‡ä»¶å®šä¹‰äº†æœ¬é¡¹ç›®å¤„ç†èµ„é‡‘ï¼ˆä½™é¢ã€è®¢å•é‡‘é¢ã€æˆäº¤ä»·æ ¼ï¼‰çš„**æ²»ç†æ–¹æ¡ˆ**ã€‚
> é‡ç‚¹æ˜¯ï¼š**å¦‚ä½•åœ¨ä»£ç å±‚é¢ç¦æ­¢ä¸ç¬¦åˆè§„èŒƒçš„æ“ä½œ**ã€‚
> ä»»ä½•è¿åæœ¬è§„èŒƒçš„ä»£ç **ä¸å¾—åˆå¹¶**ã€‚

---

## Part I: èƒŒæ™¯ä¸è®¾è®¡å†³ç­–

### 1.1 æ ¸å¿ƒé£é™©

**é‡‘é¢æ˜¯é¢†åŸŸæ¦‚å¿µï¼Œä¸æ˜¯åŸå§‹ç±»å‹ã€‚**

åœ¨ä»»ä½•é‡‘èç³»ç»Ÿä¸­ï¼Œ"é’±"éƒ½ä¸åº”è¢«è§†ä¸ºä¸€ä¸ªè£¸éœ²çš„æ•´æ•°ã€‚å®ƒæ˜¯ä¸€ä¸ªæºå¸¦ç²¾åº¦è¯­ä¹‰çš„**é¢†åŸŸå¯¹è±¡**â€”â€”1 BTC å†…éƒ¨è¡¨ç¤ºä¸º `100_000_000` èªï¼Œè¿™ä¸ª `10^8` çš„ç¼©æ”¾å› å­æ˜¯èµ„äº§çš„**å†…åœ¨å±æ€§**ï¼Œè€Œéç¨‹åºå‘˜çš„ä¸´æ—¶å†³å®šã€‚

å½“å¼€å‘è€…åœ¨ä»£ç ä¸­éšæ„å†™ä¸‹ `amount * 10u64.pow(8)` æ—¶ï¼Œä»–å®é™…ä¸Šåœ¨**ç ´åè¿™å±‚æŠ½è±¡**ï¼Œå°†é¢†åŸŸé€»è¾‘æ³„æ¼åˆ°ä¸šåŠ¡ä»£ç çš„æ¯ä¸€ä¸ªè§’è½ã€‚è¿™ä¼šå¯¼è‡´ï¼š

| é£é™©ç±»å‹ | åæœ |
|----------|------|
| **è´¦æœ¬æ— æ³•å¯¹é½** | ä»»ä½•å¾®å°è¯¯å·®éƒ½ä¼šç ´å"èµ„é‡‘æ’ç­‰å®šç†"ï¼Œå¯¼è‡´æ— æ³• 100% ç²¾ç¡®å¯¹è´¦ã€‚æˆ‘ä»¬æ— æ³•åŒºåˆ†"æ­£å¸¸è¯¯å·®"è¿˜æ˜¯"çœŸæ­£çš„ Bug"ã€‚ |
| **è¯­ä¹‰é”™è¯¯** | é”™è¯¯åœ°å°† BTC é‡‘é¢ä¸ USDT é‡‘é¢ç›´æ¥ç›¸åŠ ã€‚ |
| **æº¢å‡ºæ”»å‡»** | æ¶æ„æ„é€ çš„è¶…å¤§æ•°å€¼å¯¼è‡´ç³»ç»Ÿå´©æºƒæˆ–èµ„é‡‘é”™ç®—ã€‚ |
| **ç»´æŠ¤å™©æ¢¦** | è½¬æ¢é€»è¾‘å¤æ‚ï¼Œåˆ°å¤„é‡å¤å†™å¿…ç„¶åˆ°å¤„çŠ¯é”™ã€‚ |

### 1.2 ä¸ºä»€ä¹ˆé€‰æ‹© `u64` + å†…éƒ¨ç¼©æ”¾ï¼Ÿ

> **å‰ç½®é˜…è¯»**: å…³äºæµ®ç‚¹æ•°çš„é—®é¢˜ï¼Œè¯·å‚é˜… [0x02 æµ®ç‚¹æ•°çš„è¯…å’’](../src/0x02-the-curse-of-float.md)ï¼Œæ­¤å¤„ä¸å†é‡å¤ã€‚

**æ ¸å¿ƒç»“è®º**ï¼š
- `f64` æ— æ³•æ»¡è¶³**è·¨å¹³å°ç¡®å®šæ€§**ï¼ˆä¸åŒ CPU/ç¼–è¯‘å™¨ç»“æœå¯èƒ½ä¸åŒï¼‰ã€‚
- `Decimal` æ— æ³•æ»¡è¶³**æè‡´æ€§èƒ½**ï¼ˆæ¯” `u64` æ…¢ 10x+ï¼‰ã€‚
- **`u64` æ˜¯å”¯ä¸€èƒ½åŒæ—¶æ»¡è¶³"åŒºå—é“¾çº§éªŒè¯å¼ºåº¦"å’Œ"é«˜é¢‘æ’®åˆæ€§èƒ½"çš„æ–¹æ¡ˆã€‚**

ä½† `u64` éœ€è¦**å†…éƒ¨ç¼©æ”¾**ï¼Œè¿™å¼•å…¥äº†å¤æ‚æ€§ã€‚å› æ­¤æˆ‘ä»¬å¿…é¡»ï¼š
1. å°†ç¼©æ”¾ç®—æ³•å°è£…åœ¨ `money.rs` ä¸­ã€‚
2. **ä¸¥ç¦**åœ¨å…¶ä»–åœ°æ–¹æ‰‹å·¥è¿›è¡Œç¼©æ”¾è¿ç®—ã€‚

---

### 1.3 å†…éƒ¨ç¼©æ”¾æ–¹æ¡ˆï¼šå¦‚ä½•å®ç°å¤§é¢å¤„ç†ï¼Ÿ

**æ ¸å¿ƒæœºåˆ¶**ï¼šæˆ‘ä»¬ä¸ºæ¯ç§èµ„äº§å®šä¹‰**ç³»ç»Ÿç²¾åº¦**ï¼ˆé€šå¸¸ 8 ä½ï¼‰ï¼Œè€Œéä½¿ç”¨é“¾ä¸ŠåŸç”Ÿç²¾åº¦ï¼ˆå¦‚ ETH çš„ 18 ä½ï¼‰ã€‚

| èµ„äº§ | é“¾ä¸Šç²¾åº¦ | ç³»ç»Ÿç²¾åº¦ | `u64` æœ€å¤§å¯å¤„ç†é‡‘é¢ |
|------|----------|----------|----------------------|
| BTC  | 8 ä½     | 8 ä½     | **1844 äº¿ BTC** (è¿œè¶…æ€»ä¾›åº”é‡) |
| ETH  | 18 ä½    | **8 ä½** | **1844 äº¿ ETH** âœ… |
| USDT | 6 ä½     | 6 ä½     | **18.4 ä¸‡äº¿ USDT** âœ… |

> [!IMPORTANT]
> **ç²¾åº¦æƒè¡¡**ï¼šä½¿ç”¨ 8 ä½ç³»ç»Ÿç²¾åº¦æ„å‘³ç€ ETH æœ€å°å•ä½æ˜¯ `0.00000001 ETH` (10 gwei)ï¼Œè€Œéé“¾ä¸Šçš„ `1 wei`ã€‚
> å¯¹äºäº¤æ˜“æ‰€åœºæ™¯ï¼Œè¿™å®Œå…¨è¶³å¤Ÿâ€”â€”æ²¡æœ‰äººä¼šäº¤æ˜“ 1 wei çš„ ETHã€‚

**è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ"ç¼©æ”¾"å¿…é¡»å°è£…**ï¼š
- ä¸åŒèµ„äº§æœ‰ä¸åŒçš„**é“¾ä¸Šç²¾åº¦**å’Œ**ç³»ç»Ÿç²¾åº¦**ã€‚
- å…¥é‡‘æ—¶ï¼šé“¾ä¸Šç²¾åº¦ â†’ ç³»ç»Ÿç²¾åº¦ï¼ˆå¯èƒ½æˆªæ–­æå°å°¾æ•°ï¼‰ã€‚
- å‡ºé‡‘æ—¶ï¼šç³»ç»Ÿç²¾åº¦ â†’ é“¾ä¸Šç²¾åº¦ï¼ˆè¡¥é›¶ï¼‰ã€‚
- è¿™å¥—è½¬æ¢é€»è¾‘å¤æ‚ï¼Œå¿…é¡»é›†ä¸­ç®¡ç†ï¼Œä¸¥ç¦å„å¤„æ‰‹å†™ã€‚

> [!TIP]
> **`u128` çš„æ›¿ä»£æ–¹æ¡ˆ**ï¼šå¦‚æœä¸è¿½æ±‚æè‡´æ€§èƒ½ï¼Œä½¿ç”¨ `u128` å¯ä»¥ç›´æ¥é‡‡ç”¨ç»Ÿä¸€çš„ 18 ä½ç²¾åº¦ï¼Œé¿å…ä¸åŒèµ„äº§é—´çš„ç²¾åº¦è½¬æ¢é—®é¢˜ã€‚ä½†è¿™ä¼šç‰ºç‰²çº¦ 10-20% çš„æ’®åˆæ€§èƒ½ã€‚

---

## Part II: è§£å†³æ–¹æ¡ˆä¸å†³ç­– (Solutions & Decisions)

### 2.1 ç±»å‹å®‰å…¨ï¼šNewtype å®ˆå« (The Newtype Guardian)

**é—®é¢˜**: `u64` æ˜¯åŸç”Ÿç±»å‹ï¼Œå¼€å‘è€…å¯ä»¥è½»æ˜“å†™å‡º `amount * 10u64.pow(8)`ã€‚

**æ–¹æ¡ˆ**: å¼•å…¥**ä¸é€æ˜**çš„åŒ…è£…ç±»å‹ `ScaledAmount(u64)`:
- å†…éƒ¨å­—æ®µ `u64` æ˜¯ **private** çš„ï¼Œæ— æ³•ç›´æ¥è®¿é—®ã€‚
- æ‰€æœ‰æ„é€ å¿…é¡»é€šè¿‡ `money.rs` æä¾›çš„å®¡è®¡è¿‡çš„ Constructorã€‚
- å¦‚æœæœ‰äººæƒ³"ç§è‡ªè®¡ç®—"ï¼Œä»–å¿…é¡»å…ˆè§£åŒ…ï¼ˆ`to_raw()`ï¼‰ï¼Œè¿™ç§"ä¸è‡ªç„¶"çš„æ“ä½œåœ¨ Code Review ä¸­ä¸€çœ¼å¯è§ã€‚

```rust
// ğŸ›¡ï¸ æ ¸å¿ƒç±»å‹å®šä¹‰
pub struct ScaledAmount(u64);        // æ— ç¬¦å·ï¼šä½™é¢ã€è®¢å•æ•°é‡
pub struct ScaledAmountSigned(i64);  // æœ‰ç¬¦å·ï¼šç›ˆäºã€å·®é¢
```

**å·²å®ç°**:
- [x] `ScaledAmount` / `ScaledAmountSigned` å®šä¹‰
- [x] `checked_add` / `checked_sub` å®‰å…¨ç®—æœ¯
- [x] `Deref<Target = u64>` å…è®¸æ¯”è¾ƒï¼Œä½†ç¦æ­¢ç›´æ¥ç®—æœ¯

---

### 2.2 è®¿é—®æ§åˆ¶ï¼šå…¥å£æ”¶ç¼© (Visibility Chokepoint)

**é—®é¢˜**: å¦‚æœåº•å±‚å‡½æ•° `parse_amount(str, decimals)` æ˜¯ `pub` çš„ï¼Œå¼€å‘è€…ä¼šå€¾å‘äºç›´æ¥ä½¿ç”¨å®ƒã€‚

**æ–¹æ¡ˆ**: å°† Layer 1 å·¥å…·å‡½æ•°æ”¶ç¼©ä¸º `pub(crate)`ï¼š

| å¯è§æ€§ | å‡½æ•° | ç”¨é€” |
|--------|------|------|
| `pub(crate)` | `parse_amount`, `format_amount` | ä»…é™ `money.rs` å’Œæ ¸å¿ƒæ¨¡å—å†…éƒ¨ä½¿ç”¨ |
| `pub` | `SymbolManager::parse_qty()`, `SymbolManager::format_price()` | **å¤–éƒ¨å”¯ä¸€å…¥å£** |

**æ•ˆæœ**: åœ¨ä»£ç è‡ªåŠ¨è¡¥å…¨æ—¶ï¼Œå¼€å‘è€…é¦–å…ˆçœ‹åˆ°çš„æ˜¯ `SymbolManager` ä¸Šçš„é«˜å±‚æ–¹æ³•ã€‚

**å·²å®ç°**:
- [x] `parse_amount` / `format_amount` æ”¹ä¸º `pub(crate)`

---

### 2.3 åˆ†å±‚æ¶æ„ (Layered Architecture)

| å±‚çº§ | ç»„ä»¶ | èŒè´£ | å¯è§æ€§ |
|------|------|------|--------|
| **Layer 1 (Core)** | `money.rs` | åŸå­ç±»å‹å®šä¹‰ä¸åº•å±‚ç¼©æ”¾ | `pub(crate)` |
| **Layer 2 (Domain)** | `SymbolManager` | æ„ŸçŸ¥èµ„äº§/äº¤æ˜“å¯¹ç²¾åº¦ï¼Œæä¾›æ„å›¾ API | `pub` |
| **Layer 3 (Integration)** | `MoneyFormatter` | é«˜æ€§èƒ½æ‰¹é‡æ ¼å¼åŒ–ï¼ˆæ·±åº¦å›¾ã€Tickerï¼‰ | `pub` |

> [!TIP]
> **æ‰©å±•æ€§**: `MoneyFormatter` ç›®å‰æœåŠ¡äºæ·±åº¦å›¾ã€‚éšç€ Kline/Ticker å¤æ‚åŒ–ï¼Œæ­¤æ¨¡å¼å¯æ¨å¹¿è‡³æ‰€æœ‰è¡Œæƒ…å±•ç¤ºã€‚

---

## Part III: å†…å¤–è¾¹ç•Œä¸æ˜¾ç¤ºç­–ç•¥ (Internal/External Boundary & Display)

### 3.0 æ ¸å¿ƒè§„èŒƒï¼šå†…éƒ¨å®ç°ç»ä¸æš´éœ²

> [!CAUTION]
> **å†…éƒ¨çš„ `u64` è¡¨ç¤ºæ˜¯å®ç°ç»†èŠ‚ï¼Œç»å¯¹ä¸èƒ½æš´éœ²ç»™å®¢æˆ·ç«¯ã€‚**

**å¼ºåˆ¶è§„èŒƒ**ï¼š
1.  **ç»Ÿä¸€è½¬æ¢å±‚**ï¼šå†…éƒ¨ç³»ç»Ÿä¸å¤–éƒ¨ Client ä¹‹é—´ï¼Œå¿…é¡»ç»è¿‡**ç»Ÿä¸€çš„è½¬æ¢å±‚**ï¼ˆ`SymbolManager` / `MoneyFormatter`ï¼‰ã€‚
2.  **æ„å›¾å°è£…æ¥å£**ï¼šè½¬æ¢å±‚å¿…é¡»ä½¿ç”¨ç»è¿‡æ„å›¾å°è£…çš„æ¥å£ï¼Œ**ä¸¥ç¦å„å¤„ç§è‡ªè½¬æ¢**ã€‚
3.  **Client æ•°æ®æ ¼å¼**ï¼šæ¥æ”¶å’Œè¿”å›ç»™ Client çš„é‡‘é¢ï¼Œç»Ÿä¸€ä½¿ç”¨ **Decimal çš„ String ç±»å‹**ï¼ˆå¦‚ `"1.50000000"`ï¼‰ã€‚
4.  **ç²¾åº¦æ¥æºå”¯ä¸€**ï¼šèµ„äº§ç²¾åº¦ï¼ˆ`decimals`ï¼‰å’Œæ˜¾ç¤ºç²¾åº¦ï¼ˆ`display_decimals`ï¼‰å¿…é¡»ä» `SymbolManager` è·å–ï¼Œä¸¥ç¦ç¡¬ç¼–ç ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚ â†â†’  â”‚  Conversion Layer â”‚ â†â†’  â”‚  Internal   â”‚
â”‚  (String)   â”‚     â”‚  (SymbolManager)  â”‚     â”‚   (u64)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     "1.5"      parse_qty()â†’   150_000_000   â†format_qty()  "1.50000000"
```

---

### 3.1 æˆªæ–­æ˜¯å”¯ä¸€åˆæ³•çš„èˆå…¥ç­–ç•¥

**å†³ç­–**ï¼šæ‰€æœ‰è½¬æ¢ã€è®¡ç®—è¿‡ç¨‹ä¸­çš„ç²¾åº¦æŸå¤±ï¼Œ**ä¸€å¾‹ä½¿ç”¨æˆªæ–­ï¼ˆTruncationï¼‰**ï¼Œä¸å…è®¸å››èˆäº”å…¥ã€‚

**åŸå› **ï¼š
- **ä¸€è‡´æ€§**ï¼šä¸æ•´æ•°é™¤æ³•çš„è¡Œä¸ºä¸€è‡´ï¼ˆå‘é›¶æˆªæ–­ï¼‰ã€‚
- **å¯é¢„æµ‹æ€§**ï¼šä»»ä½•äººåœ¨ä»»ä½•å¹³å°é‡ç®—ï¼Œç»“æœå®Œå…¨ä¸€è‡´ã€‚
- **å®‰å…¨æ€§**ï¼šå®æ„¿å°‘æ˜¾ç¤ºï¼Œä¹Ÿä¸èƒ½è®©ç”¨æˆ·è®¤ä¸ºè‡ªå·±æ‹¥æœ‰å®é™…ä¸å­˜åœ¨çš„ä½™é¢ã€‚

| åœºæ™¯ | ç­–ç•¥ | ç¤ºä¾‹ |
|------|------|------|
| å…¥é‡‘è½¬æ¢ | æˆªæ–­ | é“¾ä¸Š `1.23456789012345678 ETH` â†’ ç³»ç»Ÿ `1.23456789 ETH` |
| ä½™é¢æ˜¾ç¤º | æˆªæ–­ | å†…éƒ¨ `123456789` â†’ æ˜¾ç¤º `"1.2345"` (4ä½æ˜¾ç¤ºç²¾åº¦) |
| æˆäº¤è®¡ç®— | æˆªæ–­ | é¿å…å‡­ç©ºäº§ç”Ÿèµ„é‡‘ |

---

### 3.2 ä¸¥æ ¼è§£æï¼šæ‹’ç»æ¨¡ç³Šè¾“å…¥

**å†³ç­–**: æ‹’ç» `.5` å’Œ `5.` ç­‰ç®€å†™ï¼Œå¼ºåˆ¶è¦æ±‚ `0.5` å’Œ `5.0`ã€‚

**åŸå› **ï¼šå¤„ç†é‡‘é¢æ•°æ®ï¼Œ**ä¸¥è°¨å’Œå®‰å…¨æ˜¯ç¬¬ä¸€ä½çš„**ã€‚æ¨¡ç³Šçš„è¾“å…¥æ ¼å¼å¯èƒ½å¯¼è‡´ï¼š
- æ‰‹æŠ–æˆ–è„šæœ¬é”™è¯¯è¾“å…¥ä¸å®Œæ•´æ•°å­—
- ä¸åŒè§£æå™¨å¯¹æ­§ä¹‰æ ¼å¼æœ‰ä¸åŒè§£è¯»
- éšè”½çš„ç²¾åº¦ä¸¢å¤±

**è¡ŒåŠ¨é¡¹**:
- [ ] åœ¨ OpenAPI æ–‡æ¡£å’Œé”™è¯¯ä¿¡æ¯ä¸­æ˜ç¡®æç¤ºæ­¤è§„èŒƒ

---

## Part IV: å¼ºåˆ¶æ‰§è¡Œæœºåˆ¶ (Enforcement Mechanisms)

### 4.1 ç¼–è¯‘æœŸï¼šç±»å‹ç³»ç»Ÿå±éšœ
- `ScaledAmount` æ— æ³•ä¸ `u64` ç›´æ¥è¿ç®—ã€‚
- å¿…é¡»é€šè¿‡ `Deref` (`*amount`) æˆ– `.to_raw()` æ˜¾å¼"é€ƒé€¸"ã€‚

### 4.2 ä»£ç å®¡æŸ¥ï¼šé«˜å¯è§æ€§ä¿¡å·
- ä»»ä½•ä½¿ç”¨ `.to_raw()` çš„åœ°æ–¹éƒ½åº”è¢«è§†ä¸º**éœ€è¦é¢å¤–å®¡æŸ¥**çš„ä¿¡å·ã€‚
- ä»»ä½•åœ¨ `money.rs` ä¹‹å¤–å‡ºç°çš„ `10u64.pow` éƒ½æ˜¯**ç»å¯¹ç¦æ­¢**çš„ã€‚

### 4.3 è‡ªåŠ¨åŒ–å®¡è®¡ (CI)
**å®¡è®¡è„šæœ¬**: `scripts/audit_money_safety.sh` (å¾…å®ç°)

```bash
# æ£€æŸ¥é money.rs æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æ‰‹åŠ¨ç¼©æ”¾
grep -rn "10u64.pow" --include="*.rs" --exclude="money.rs" src/
grep -rn "Decimal::from(10).powi" --include="*.rs" --exclude="money.rs" src/
```
**é›†æˆ**: å°†è„šæœ¬åŠ å…¥ `.github/workflows` å’Œæœ¬åœ° pre-commit hookã€‚

### 4.4 Agent è®°å¿† (AGENTS.md)
**å·²ç”Ÿæ•ˆ**: `AGENTS.md` å¿…è¯»åˆ—è¡¨ä¸­åŒ…å«æœ¬è§„èŒƒã€‚æ‰€æœ‰ AI Agent åœ¨å¼€å§‹å·¥ä½œå‰å¿…é¡»é˜…è¯»ã€‚

---

## Part V: æœªæ¥å‡çº§è·¯å¾„ (Future Upgrade Path)

| é˜¶æ®µ | ç›®æ ‡ | çŠ¶æ€ |
|------|------|------|
| **Phase 0** | Newtype å®šä¹‰, API æ”¶ç¼©, æ–‡æ¡£æ²»ç† | âœ… å·²å®Œæˆ |
| **Phase 1** | `audit_money_safety.sh` é›†æˆ CI | â³ å¾…å®ç° |
| **Phase 2** | å­˜é‡ä»£ç å…¨é¢æ‰«æä¸è¿ç§» | â³ å¾…æ‰§è¡Œ |
| **Phase 3** | `u64` â†’ `u128` å‡çº§ (æ”¯æŒ 18 ä½é«˜ç²¾åº¦èµ„äº§) | ğŸ“‹ è§„åˆ’ä¸­ |

---

## æ€»ç»“ï¼šä¸ºä»€ä¹ˆå¦‚æ­¤ä¸¥è‹› (Why So Heavy?)

### æ ¸å¿ƒåŸåˆ™ 1ï¼šè´¦æœ¬å¿…é¡» 100% å¯å¯¹è´¦

> å¦‚æœå…è®¸ä»»ä½•ç²¾åº¦è¯¯å·®çš„å­˜åœ¨ï¼Œç³»ç»Ÿçš„è´¦æœ¬å°±æ— æ³•åšåˆ° **100% å¯¹é½**ã€‚
> æˆ‘ä»¬æ— æ³•åˆ©ç”¨"**èµ„é‡‘æ’ç­‰å®šç†**"ï¼ˆæ€»å…¥é‡‘ = æ€»ä½™é¢ + æ€»å‡ºé‡‘ï¼‰æ¥è¿›è¡Œç²¾ç¡®å¯¹è´¦ã€‚
> ä¸€æ—¦è´¦æœ¬ä¸èƒ½ 100% å¯¹é½ï¼Œæˆ‘ä»¬å°±**æ— æ³•åˆ†è¾¨**ä¸€ä¸ªå·®å¼‚æ˜¯"å¯æ¥å—çš„æ­£å¸¸è¯¯å·®"è¿˜æ˜¯ä¸€ä¸ª**éšè—çš„ Bug**ã€‚
> çœŸæ­£çš„é—®é¢˜å¯èƒ½è¢«"è¯¯å·®"æ©ç›–ï¼Œç›´åˆ°é€ æˆæ— æ³•æŒ½å›çš„æŸå¤±ã€‚

### æ ¸å¿ƒåŸåˆ™ 2ï¼šè½¬æ¢é€»è¾‘å¿…é¡»æ”¶æ•›åˆ°å”¯ä¸€ä½ç½®

> é‡‘é¢è½¬æ¢é€»è¾‘éå¸¸å¤æ‚ï¼ˆç²¾åº¦ã€èˆå…¥ã€æº¢å‡ºæ£€æŸ¥ï¼‰ã€‚
> å¦‚æœå…è®¸åœ¨ä»£ç åº“å„å¤„é‡å¤ç¼–å†™ï¼Œ**æ¯ä¸ªåœ°æ–¹éƒ½å¯èƒ½çŠ¯ä¸åŒçš„é”™è¯¯**ã€‚
> å°†è½¬æ¢æ”¶æ•›åˆ°**å”¯ä¸€çš„ã€ç»è¿‡å……åˆ†å®¡è®¡å’Œæµ‹è¯•çš„ä»£ç ä½ç½®** (`money.rs` + `SymbolManager`)ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š
> - å¯¹è¿™ä¸€å¤„è¿›è¡Œ**ç©·å°½å¼æµ‹è¯•**ï¼ˆè¾¹ç•Œå€¼ã€æº¢å‡ºã€è´Ÿæ•°ç­‰ï¼‰ã€‚
> - ç¡®ä¿**æ‰€æœ‰è°ƒç”¨è€…**éƒ½äº«å—åŒç­‰çš„å®‰å…¨ä¿éšœã€‚
> - åœ¨å‘ç° Bug æ—¶ï¼Œ**åªéœ€ä¿®å¤ä¸€å¤„**ï¼Œå…¨å±€ç”Ÿæ•ˆã€‚

### ç®€å•æ€»ç»“ (The Rules)

- **NO** `10u64.pow()` outside `money.rs`.
- **NO** raw `u64` arithmetic for amounts.
- **NO** implicit scaling.
- **YES** `SymbolManager` for all intent-based conversions.
